package AlboriasTales.Chapter1;

// @JUDGE_ID:  1000AA  100  Java  "Easy algorithm"

import java.util.Scanner;
import java.util.InputMismatchException;

class AustralianVoting {
    public static void main(String[] args) {
        System.out.println("Hello world!");
        Scanner input = new Scanner(System.in);

        int cases = getCases(input);

        input.nextLine(); // getBlankLine

        for(int i = 0; i < cases; i++) {
            int numOfCandidates = getNumOfCandidates(input);
            String[] candidates = getCandidates(numOfCandidates, input);
            int[][] votes = getVotes(numOfCandidates, input);


            System.out.println(candidates[0]);
            System.out.println(candidates[1]);
        }
    }

    private static int getCases(Scanner input) {
        int cases = -1;

        while (cases == -1) {
            try {
                cases = input.nextInt();
            } catch(InputMismatchException e) {
                System.err.println("This is not a number, try again!");
                continue;
            }
        }

        return cases;
    }

    private static int getNumOfCandidates(Scanner input) {
        int numOfCandidates = -1;

        while(numOfCandidates > 20 || numOfCandidates == -1) {
            try {
                numOfCandidates = input.nextInt();

                if(numOfCandidates > 20) {
                    System.err.println("There can only be 20 or less candidates, try again!");
                    continue;
                }

            } catch(InputMismatchException e) {
                System.err.println("This is not a number, try again!");
            }
        }

        return numOfCandidates;
    }

    private static String[] getCandidates(int numOfCandidates, Scanner input) {
        String[] candidates = new String[numOfCandidates];
        int count = 0;

        while(count < numOfCandidates) {
            String name = "ERROR";

            while (name == "ERROR") {
                name = input.next();

                if(name.length() > 80) {
                    System.err.println("Names must be less than 80 characters. Try again");
                    name = "ERROR";
                }
            }

            candidates[count++] = name;
        }

        return candidates;
    }

    /**
     * Falta verificar que los datos enviados son v√°lidos!
     * @param input
     * @param numOfCandidates
     * @return
     */
    private static int[][] getVotes(int numOfCandidates, Scanner input) {
        int[][] votes = new int[1000][numOfCandidates];
        int cont = 0;
        String line = input.nextLine();
        while (line != "") {
            line = line.trim();

            for(int i = 0; i < line.length(); i++) {
                votes[cont][i] = line.charAt(i);
            }

            cont++;
            line = input.nextLine();
        }

        return votes;
    }
}