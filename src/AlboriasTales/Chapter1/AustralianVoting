package AlboriasTales.Chapter1;

import java.util.Scanner;
import java.util.InputMismatchException;

class AustralianVoting {
    public static void main(String[] args) {
        System.out.println("Hello world!");
        Scanner input = new Scanner(System.in);

        int cases = getCases(input);

        input.nextLine(); // getBlankLine

        for(int i = 0; i < cases; i++) {
            int numOfCandidates = getNumOfCandidates(input);
            String[] candidates = getCandidates(numOfCandidates, input);
            int[] votes = getVotes(input);


            System.out.println(candidates[0]);
            System.out.println(candidates[1]);
        }
    }

    private static int getCases(Scanner input) {
        int cases = -1;
        do {
            try {
                cases = input.nextInt();
            } catch(InputMismatchException e) {
                System.err.println("This is not a number, try again!");
                continue;
            }
        } while (cases == -1);

        return cases;
    }

    private static int getNumOfCandidates(Scanner input) {
        int numOfCandidates = -1;
        do {
            try {
                numOfCandidates = input.nextInt();

                if(numOfCandidates > 20) {
                    System.err.println("There can only be 20 or less candidates, try again!");
                    continue;
                }

            } catch(InputMismatchException e) {
                System.err.println("This is not a number, try again!");
            }

        }
        while(numOfCandidates > 20 || numOfCandidates == -1);

        return numOfCandidates;
    }

    private static String[] getCandidates(int numOfCandidates, Scanner input) {
        String[] candidates = new String[numOfCandidates];
        int count = 0;

        while(count < numOfCandidates) {
            String name = "ERROR";
            do {
                name = input.next();
                System.out.println("Input is " + name);

                if(name.length() > 80) {
                    System.err.println("Names must be less than 80 characters. Try again");
                    name = "ERROR";
                    continue;
                }
            } while (name == "ERROR");
            System.out.println("Count value: " + count);
            candidates[count++] = name;
        }

        return candidates;
    }

    private static int[] getVotes(Scanner input) {
        int[] votes = new int[1];
        return votes;
    }
}